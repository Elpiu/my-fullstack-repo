<div class="flex flex-col items-center justify-center min-h-screen bg-slate-900 text-white p-4">
  <h1
    class="text-4xl font-bold mb-8 text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-red-600"
  >
    GALOPPIA <span class="text-xs text-slate-400 block text-center">LOBBY PRE-GARA</span>
  </h1>

  <div class="bg-slate-800 p-6 rounded-2xl shadow-2xl w-full max-w-md border border-slate-700">
    <h3 class="text-xl font-semibold mb-4 border-b border-slate-600 pb-2">
      Scuderia ({{ store.horses().length }}/10)
    </h3>

    <ul class="space-y-3 mb-8 max-h-60 overflow-y-auto">
      @for (horse of store.horses(); track horse.id) {
      <li class="flex items-center justify-between bg-slate-700 p-3 rounded-lg">
        <div class="flex items-center gap-3">
          <div class="w-4 h-4 rounded-full shadow-lg" [style.backgroundColor]="horse.color"></div>
          <span [class.font-bold]="horse.id === store.myId()">
            {{ horse.name }} {{ horse.id === store.myId() ? '(TU)' : '' }}
          </span>
        </div>

        <!-- Badge Pronto -->
        @if (horse.isReady) {
        <span class="text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded">PRONTO</span>
        } @else {
        <span class="text-xs bg-yellow-500/20 text-yellow-400 px-2 py-1 rounded">ATTESA...</span>
        }
      </li>
      }
    </ul>

    <!-- Azione -->
    <div class="flex justify-center">
      @if (!amIReady()) {
      <button
        (click)="store.sendReady()"
        class="w-full py-3 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-400 hover:to-emerald-500 text-white font-bold rounded-xl shadow-lg transition-all active:scale-95"
      >
        SONO PRONTO
      </button>
      } @else {
      <div class="text-center animate-pulse text-slate-400">In attesa degli altri giocatori...</div>
      }
    </div>
  </div>
</div>
